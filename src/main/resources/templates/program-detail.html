<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${program.name} + ' - Order'">Program Detail</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light text-dark">

<div class="d-flex justify-content-center align-items-center min-vh-100 py-5">
    <div class="container" style="max-width: 800px;">

        <div class="text-center mb-5">
            <h1 class="fw-bold display-6 mb-3" th:text="${program.name}">Program Name</h1>
            <p class="text-secondary lead mx-auto" style="max-width: 600px;" th:text="${program.description}">
                Program description goes here. It provides context about what the user is signing up for.
            </p>
        </div>

        <div class="card border-0 shadow-sm rounded-4">
            <div class="card-body p-5">

                <h3 class="fw-bold mb-2">Product Order Form</h3>
                <p class="text-secondary small mb-4">Please fill all the required fields and select your desired product!</p>

                <div th:if="${error}" class="alert alert-dark text-center py-2 mb-4 rounded-2" role="alert">
                    <small th:text="${error}"></small>
                </div>

                <form th:action="@{/programs/{id}/order(id=${program.id})}" th:object="${order}" method="post">

                    <input type="hidden" name="programId" th:value="${program.id}" />

                    <div class="mb-3">
                        <label class="form-label fw-semibold">Full Name</label>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" th:field="*{firstName}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="First">
                                <div th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="text-danger mt-1 small"></div>
                            </div>
                            <div class="col-md-6">
                                <input type="text" th:field="*{lastName}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="Last">
                                <div th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="text-danger mt-1 small"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="email" class="form-label fw-semibold">Email</label>
                        <input type="email" th:field="*{email}" class="form-control bg-light border-0 rounded-2 py-2" id="email" placeholder="john@company.com">
                        <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger mt-1 small"></div>
                    </div>

                    <div class="mb-3">
                        <label for="phone" class="form-label fw-semibold">Phone Number</label>
                        <input type="text" th:field="*{phone}" class="form-control bg-light border-0 rounded-2 py-2" id="phone" placeholder="+ 49 324 423 234">
                        <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger mt-1 small"></div>
                    </div>

                    <div class="mb-3 mt-4">
                        <label class="form-label fw-semibold">Shipping Address</label>

                        <div class="mb-3">
                            <input type="text" th:field="*{address1}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="Address line 1">
                            <div th:if="${#fields.hasErrors('address1')}" th:errors="*{address1}" class="text-danger mt-1 small"></div>
                        </div>

                        <div class="mb-3">
                            <input type="text" th:field="*{address2}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="Address line 2">
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <input type="text" th:field="*{city}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="City">
                                <div th:if="${#fields.hasErrors('city')}" th:errors="*{city}" class="text-danger mt-1 small"></div>
                            </div>
                            <div class="col-md-6">
                                <input type="text" th:field="*{region}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="Region">
                                <div th:if="${#fields.hasErrors('region')}" th:errors="*{region}" class="text-danger mt-1 small"></div>
                            </div>
                        </div>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" th:field="*{postal}" class="form-control bg-light border-0 rounded-2 py-2" placeholder="Postal / Zip Code">
                                <div th:if="${#fields.hasErrors('postal')}" th:errors="*{postal}" class="text-danger mt-1 small"></div>
                            </div>
                            <div class="col-md-6">
                                <select th:field="*{countryCode}" class="form-select bg-light border-0 rounded-2 py-2">
                                    <option value="">Select Country</option>
                                    <option th:each="c : ${countries}"
                                            th:value="${c.code}"
                                            th:text="${c.name}">
                                    </option>
                                </select>
                                <div th:if="${#fields.hasErrors('countryCode')}" th:errors="*{countryCode}" class="text-danger mt-1 small"></div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-start gap-3 mt-5">
                        <button type="submit" class="btn btn-dark px-5 py-2 fw-bold rounded-2">Add</button>
                        <a th:href="@{/programs}" class="btn btn-outline-dark px-4 py-2 fw-semibold rounded-2 border-0">Cancel</a>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>